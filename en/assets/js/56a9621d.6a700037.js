"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9103],{7749:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"local-agent/hobbit-hole","title":"Config (Hobbit Hole)","description":"Hobbit Hole \u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5904\u7406\u6d41\u7a0b\u4e0e IDE \u4ea4\u4e92\u903b\u8f91\u3002","source":"@site/docs/local-agent/hobbit-hole.md","sourceDirName":"local-agent","slug":"/local-agent/hobbit-hole","permalink":"/en/local-agent/hobbit-hole","draft":false,"unlisted":false,"editUrl":"https://github.com/unit-mesh/auto-dev/tree/master/docs/docs/local-agent/hobbit-hole.md","tags":[],"version":"current","frontMatter":{"layout":"default","title":"Config (Hobbit Hole)","parent":"Shire Language","nav_order":3},"sidebar":"agenticSidebar","previous":{"title":"Foreign Function","permalink":"/en/local-agent/foreign-function"},"next":{"title":"Command & Template","permalink":"/en/local-agent/template"}}');var o=t(4848),l=t(8453);const a={layout:"default",title:"Config (Hobbit Hole)",parent:"Shire Language",nav_order:3},r=void 0,c={},h=[{value:"Hobbit Hole \u6982\u8ff0",id:"hobbit-hole-\u6982\u8ff0",level:2},{value:"\u5c5e\u6027\u8bf4\u660e",id:"\u5c5e\u6027\u8bf4\u660e",level:3},{value:"\u793a\u4f8b\u4ee3\u7801",id:"\u793a\u4f8b\u4ee3\u7801",level:3},{value:"Hobbit Hole \u5c5e\u6027",id:"hobbit-hole-\u5c5e\u6027",level:2},{value:"Interaction Type",id:"interaction-type",level:3},{value:"Action Location",id:"action-location",level:3},{value:"ChatBox \u793a\u4f8b",id:"chatbox-\u793a\u4f8b",level:4},{value:"Inline Chat \u793a\u4f8b",id:"inline-chat-\u793a\u4f8b",level:3}];function s(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Hobbit Hole \u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5904\u7406\u6d41\u7a0b\u4e0e IDE \u4ea4\u4e92\u903b\u8f91\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"hobbit-hole-\u6982\u8ff0",children:"Hobbit Hole \u6982\u8ff0"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shire",children:'---\nname: "Summary"\ndescription: "Generate Summary"\ninteraction: AppendCursor\nactionLocation: ContextMenu\n---\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u5c5e\u6027\u8bf4\u660e",children:"\u5c5e\u6027\u8bf4\u660e"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"name"}),"\uff1aShire \u547d\u4ee4\u7684\u663e\u793a\u540d\u79f0\uff0c\u5c06\u663e\u793a\u5728 IDE \u7684 UI \u4e2d\uff0c\u57fa\u4e8e ",(0,o.jsx)(n.a,{href:"#interaction",children:"HobbitHole.interaction"}),"\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"description"}),"\uff1a\u64cd\u4f5c\u7684\u63d0\u793a\u4fe1\u606f\uff0c\u5c06\u663e\u793a\u5728 UI \u7684 Hover tips \u4e2d\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"interaction"}),"\uff1a\u64cd\u4f5c\u7684\u8f93\u51fa\u53ef\u4ee5\u662f\u7f16\u8f91\u5668\u4e2d\u7684\u6d41\u6587\u672c\uff0c\u5f53\u4f7f\u7528 ",(0,o.jsx)(n.a,{href:"#interaction",children:"InteractionType.AppendCursorStream"})," \u65f6\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"actionLocation"}),"\uff1a\u64cd\u4f5c\u7684\u4f4d\u7f6e\uff0c\u5e94\u8be5\u662f ",(0,o.jsx)(n.a,{href:"#actionlocation",children:"ShireActionLocation"})," \u4e2d\u7684\u4e00\u4e2a\uff0c\u9ed8\u8ba4\u4e3a [ShireActionLocation.RUN_PANEL]\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"selectionStrategy"}),"\uff1a\u9009\u62e9\u8981\u5e94\u7528\u64cd\u4f5c\u7684\u5143\u7d20\u7684\u7b56\u7565\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"variables"}),"\uff1a\u7528\u4e8e\u6784\u5efa\u53d8\u91cf\u7684\u5e26\u6709 PatternAction \u7684\u53d8\u91cf\u5217\u8868\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"when"}),"\uff1a\u7528\u4e8e [com.intellij.codeInsight.intention.IntentionAction.isAvailable]\u3001[com.intellij.openapi.project.DumbAwareAction.DumbAwareAction.update] \u68c0\u67e5\u662f\u5426\u663e\u793a\u83dc\u5355\u7684\u6761\u4ef6\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ruleBasedFilter"}),"\uff1a\u5e94\u7528\u4e8e\u64cd\u4f5c\u7684\u89c4\u5219\u6587\u4ef6\u5217\u8868\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"onStreamingEnd"}),"\uff1a\u5728\u6d41\u5904\u7406\u7ed3\u675f\u540e\u6267\u884c\u7684\u540e\u4e2d\u95f4\u4ef6\u64cd\u4f5c\u5217\u8868\uff0c\u5982\u65e5\u5fd7\u8bb0\u5f55\u3001\u6307\u6807\u6536\u96c6\u3001\u4ee3\u7801\u9a8c\u8bc1\u3001\u8fd0\u884c\u4ee3\u7801\u3001\u89e3\u6790\u4ee3\u7801\u7b49\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"afterStreaming"}),"\uff1a\u6d41\u7ed3\u675f\u540e\u6267\u884c\u4efb\u52a1\u7684\u51b3\u7b56\uff0c\u8def\u7531\u5230\u4e0d\u540c\u7684\u4efb\u52a1\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"shortcut"}),"\uff1a\u64cd\u4f5c\u7684 IDE \u5feb\u6377\u952e\uff0c\u4f7f\u7528 IntelliJ IDEA \u7684\u5feb\u6377\u952e\u683c\u5f0f\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"enabled"}),"\uff1a\u662f\u5426\u542f\u7528\u64cd\u4f5c\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"model"}),": \u4f7f\u7528\u7684\u5927\u8bed\u8a00\u6a21\u578b\uff0c\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:".autodevEnv.json"})," \u5b9a\u4e49\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"userData"}),"\uff1a\u5176\u4f59\u6570\u636e\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b\u4ee3\u7801",children:"\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shire",children:'---\nname: "Summary"\ndescription: "Generate Summary"\ninteraction: AppendCursor\nactionLocation: ContextMenu\nwhen: $fileName.matches("/.*.java/")\nvariables:\n  "var1": "demo"\n  "var2": /**.java/ { find("error.log") | sort | xargs("rm")}\n---\n'})}),"\n",(0,o.jsx)(n.h2,{id:"hobbit-hole-\u5c5e\u6027",children:"Hobbit Hole \u5c5e\u6027"}),"\n",(0,o.jsx)(n.h3,{id:"interaction-type",children:"Interaction Type"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'enum class InteractionType(val description: String) {\n    AppendCursor("Append content at the current cursor position"),\n    AppendCursorStream("Append content at the current cursor position, stream output"),\n    OutputFile("Output to a new file"),\n    ReplaceSelection("Replace the currently selected content"),\n    ReplaceCurrentFile("Replace the content of the current file"),\n    InsertBeforeSelection("Insert content before the currently selected content"),\n    RunPanel("Show Result in Run panel which is the bottom of the IDE"),\n    ChatPanel("Show Result in Chat panel which is the right of the IDE"),\n    OnPaste("Copy the content to the clipboard"),\n    RightPanel("Show Result in Right panel which is the right of the IDE"),\n    StreamDiff("Use streaming diff to show the result")\n    ;\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u7531\u4e8e\u6027\u80fd\u539f\u56e0\uff0cOnPaste \u6682\u65f6\u53ea\u652f\u6301 Java \u548c Kotlin \u8bed\u8a00\uff0c\u5e76\u4e14\u9700\u8981\u884c\u6570\u591a\u4e8e 5 \u884c\u3002"}),"\n",(0,o.jsx)(n.h3,{id:"action-location",children:"Action Location"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'enum class ShireActionLocation(val location: String, val description: String) {\n    CONTEXT_MENU("ContextMenu", "Show in Context Menu by Right Click"),\n    INTENTION_MENU("IntentionMenu", "Show in Intention Menu by Alt+Enter"),\n    TERMINAL_MENU("TerminalMenu", "Show in Terminal panel menu bar"),\n    COMMIT_MENU("CommitMenu", "Show in Commit panel menu bar"),\n    RUN_PANEL("RunPanel", "Show in Run panel which is the bottom of the IDE"),\n    INPUT_BOX("InputBox", "Show in Input Box"),\n    DATABASE_MENU("DatabaseMenu", "Show in Database panel menu bar"),\n    CONSOLE_MENU("ConsoleMenu", "Show in Console panel menu bar"),\n    VCS_LOG_MENU("VcsLogMenu", "Show in VCS Log panel menu bar"),\n    CHAT_BOX("ChatBox", "Show in Chat Box, default in Right Panel"),\n    INLINE_CHAT("InlineChat", "Show in Inline Chat"),\n\n    EXT_SONARQUBE_MENU("ExtSonarQubeMenu", "Show in SonarQube panel menu bar"),\n    ;\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u5f53 COMMIT_MENU \u9879\u591a\u4e8e\u4e00\u4e2a\u65f6\uff0c\u5c06\u4f1a\u7528 PopupMenu \u663e\u793a\uff1b\u5f53\u53ea\u6709\u4e00\u4e2a\u65f6\uff0c\u5c06\u76f4\u63a5\u663e\u793a\u5728 Commit \u83dc\u5355\u4e2d\u3002"}),"\n",(0,o.jsx)(n.h4,{id:"chatbox-\u793a\u4f8b",children:"ChatBox \u793a\u4f8b"}),"\n",(0,o.jsx)(n.p,{children:"ChatBox \u662f\u5728 Shire ToolWindow \u4e2d\u7684\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8fd9\u91cc\u8f93\u5165\u5185\u5bb9\uff0c\u7136\u540e\u8c03\u7528\u5927\u8bed\u8a00\u6a21\u578b\u3002\u4f7f\u7528\u4e8b\u9879\u5982\u4e0b\uff1a"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u9ed8\u8ba4\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"RigthPanel"})," \u4f5c\u4e3a\u5c55\u793a\u4f4d\u7f6e\uff0c\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"ChatBox"})," \u4f5c\u4e3a ",(0,o.jsx)(n.code,{children:"actionLocation"}),"\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u5f53\u7528\u6237\u521b\u5efa\u4e86 ",(0,o.jsx)(n.code,{children:"actionLocation: ChatBox"})," \u7684 Shire \u4ee3\u7801\u65f6\uff0c\u5c06\u4f1a\u8bfb\u53d6\u7528\u6237\u7684\u8f93\u5165\u4f5c\u4e3a\u63d0\u793a\u8bcd\u7684\u4e00\u90e8\u5206\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u4e0b\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49 ChatBox \u7684 Shire \u793a\u4f8b\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shire",children:'---\nname: "shire-chat-box"\ndescription: "Shire Chat Box"\ninteraction: RightPanel\nactionLocation: ChatBox\n---\n\n\u6839\u636e\u7528\u6237\u7684\u8f93\u5165\u751f\u6210 Java \u4ee3\u7801\n\n$chatPrompt\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u6b64\u65f6\uff0c\u5f53\u7528\u6237\u5728 ChatBox \u4e2d\u8f93\u5165 ",(0,o.jsx)(n.code,{children:"create hello world"})," \u65f6\uff0c\u4f1a\u5c06 ",(0,o.jsx)(n.code,{children:"hello world"})," \u4f5c\u4e3a ",(0,o.jsx)(n.code,{children:"chatPrompt"})," \u7684\u503c\u3002\u751f\u6210\u6700\u7ec8\u7684\u63d0\u793a\u8bcd\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shire",children:"\u6839\u636e\u7528\u6237\u7684\u8f93\u5165\u751f\u6210 Java \u4ee3\u7801 \n\ncreate hello world\n"})}),"\n",(0,o.jsx)(n.h3,{id:"inline-chat-\u793a\u4f8b",children:"Inline Chat \u793a\u4f8b"}),"\n",(0,o.jsx)(n.p,{children:"Inline Chat \u662f\u5728\u5f53\u524d\u6587\u4ef6\u5668\u7684\u884c\u53f7\u9644\u8fd1\u7684\u4e00\u4e2a\u7531 Shire Icon \u89e6\u53d1\u7684\u8f93\u5165\u6846\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8fd9\u91cc\u8f93\u5165\u5185\u5bb9\uff0c\u7136\u540e\u8c03\u7528\u5927\u8bed\u8a00\u6a21\u578b\u3002\u4f7f\u7528\u4e8b\u9879\u5982\u4e0b\uff1a"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u7528\u6237\u9700\u8981\u81ea\u884c\u521b\u5efa\u4e00\u4e2a Shire \u6587\u4ef6\uff0c\u7136\u540e\u5c06 ",(0,o.jsx)(n.code,{children:"actionLocation"})," \u8bbe\u7f6e\u4e3a ",(0,o.jsx)(n.code,{children:"InlineChat"}),"\u3002"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(s,{...e})}):s(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const o={},l=i.createContext(o);function a(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);