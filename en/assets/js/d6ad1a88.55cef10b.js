"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7424],{7502:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>r});const l=JSON.parse('{"id":"local-agent/toolchain-function","title":"Toolchain Function","description":"Toolchain \u51fd\u6570\u9ed8\u8ba4\u9075\u5faa Pattern-Action \u6a21\u5f0f\uff0c\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5904\u7406\u903b\u8f91\u3002\u5728\u63a5\u53d7\u53c2\u6570\u65f6\uff0c\u9ed8\u8ba4\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u4e0a\u4e0b\u6587\u53d8\u91cf\uff0c\u5373","source":"@site/docs/local-agent/toolchain-function.md","sourceDirName":"local-agent","slug":"/local-agent/toolchain-function","permalink":"/en/local-agent/toolchain-function","draft":false,"unlisted":false,"editUrl":"https://github.com/unit-mesh/auto-dev/tree/master/docs/docs/local-agent/toolchain-function.md","tags":[],"version":"current","frontMatter":{"layout":"default","title":"Toolchain Function","parent":"Shire Language","nav_order":7},"sidebar":"agenticSidebar","previous":{"title":"Command & Template","permalink":"/en/local-agent/template"},"next":{"title":"Toolchain Variable","permalink":"/en/local-agent/toolchain-variable"}}');var a=t(4848),o=t(8453);const c={layout:"default",title:"Toolchain Function",parent:"Shire Language",nav_order:7},s="Toolchain Function",i={},r=[{value:"Git",id:"git",level:2},{value:"\u793a\u4f8b\uff1a",id:"\u793a\u4f8b",level:3},{value:"Database",id:"database",level:2},{value:"\u793a\u4f8b 1",id:"\u793a\u4f8b-1",level:3},{value:"WireMock",id:"wiremock",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b-2",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"toolchain-function",children:"Toolchain Function"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Toolchain \u51fd\u6570\u9ed8\u8ba4\u9075\u5faa Pattern-Action \u6a21\u5f0f\uff0c\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5904\u7406\u903b\u8f91\u3002\u5728\u63a5\u53d7\u53c2\u6570\u65f6\uff0c\u9ed8\u8ba4\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u4e0a\u4e0b\u6587\u53d8\u91cf\uff0c\u5373\n",(0,a.jsx)(n.code,{children:"lastResult"})]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"git",children:"Git"}),"\n",(0,a.jsx)(n.p,{children:"\u652f\u6301\u7684\u51fd\u6570\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["commit\uff0c\u63d0\u4ea4\u4ee3\u7801\uff0c\u53c2\u6570 1\uff1a",(0,a.jsx)(n.code,{children:"message"})]}),"\n",(0,a.jsx)(n.li,{children:"push\uff0c\u63a8\u9001\u4ee3\u7801"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"\u793a\u4f8b",children:"\u793a\u4f8b\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shire",children:'---\nname: "Auto Commit and Push"\nafterStreaming: {\n  case condition {\n    default { print("feat: add auto commit and push sample") | commit | push }\n  }\n}\n---\n\nhi\n'})}),"\n",(0,a.jsx)(n.h2,{id:"database",children:"Database"}),"\n",(0,a.jsx)(n.p,{children:"\u652f\u6301\u7684\u51fd\u6570\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"table"}),"\uff0c\u83b7\u53d6\u6570\u636e\u5e93\u8868\u4fe1\u606f\uff0c\u53c2\u6570 1\uff1a",(0,a.jsx)(n.code,{children:"databaseName"}),"\uff0c\u9ed8\u8ba4\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fde\u63a5\u7684\u6570\u636e\u5e93\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"column"}),"\uff0c\u83b7\u53d6\u6570\u636e\u5e93\u5217\u4fe1\u606f\uff0c\u53c2\u6570 1\uff1a",(0,a.jsx)(n.code,{children:"tableName"}),"\uff0c\u9ed8\u8ba4\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8868\u7684\u5217\u4fe1\u606f\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"query"}),"\uff0c\u6267\u884c SQL \u67e5\u8be2\uff0c\u53c2\u6570 1\uff1a",(0,a.jsx)(n.code,{children:"sql"}),"\uff0c\u793a\u4f8b\uff1a",(0,a.jsx)(n.code,{children:'query("select * from user")'})]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"\u793a\u4f8b-1",children:"\u793a\u4f8b 1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shire",children:'---\nvariables:\n  "relatedTableInfo": /./ { column("user", "post", "tag") }\n---\n\n\u6839\u636e\u5982\u4e0b\u7684\u4fe1\u606f\uff0c\u751f\u6210 SQL\uff1a\n\n$relatedTableInfo\n'})}),"\n",(0,a.jsx)(n.h2,{id:"wiremock",children:"WireMock"}),"\n",(0,a.jsx)(n.p,{children:"\u652f\u6301\u7684\u51fd\u6570\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"mock"}),"\uff0c\u542f\u52a8 WireMock \u670d\u52a1\uff0c\u53c2\u6570 1\uff1a",(0,a.jsx)(n.code,{children:"filePath"}),"\u3002\u9ed8\u8ba4 8080 \u7aef\u53e3\u3002"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"\u793a\u4f8b-2",children:"\u793a\u4f8b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shire",children:'---\nname: "sample"\nvariables:\n  "mock": /any/ { mock("samples/mock/blog_v0-stubs.json") }\n---\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u5176\u4e2d\u7684 ",(0,a.jsx)(n.code,{children:"samples/mock/blog_v0-stubs.json"})," \u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "mappings": [\n    {\n      "request": {\n        "method": "POST",\n        "url": "/blog",\n        "bodyPatterns": [\n          {\n            "matchesJsonPath": "$.title"\n          },\n          {\n            "matchesJsonPath": "$.content"\n          },\n          {\n            "matchesJsonPath": "$.author"\n          }\n        ]\n      },\n      "response": {\n        "status": 201,\n        "headers": {\n          "Content-Type": "application/json"\n        },\n        "body": "{\\"message\\": \\"Blog post created successfully\\", \\"id\\": 1}"\n      }\n    }\n  ]\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>s});var l=t(6540);const a={},o=l.createContext(a);function c(e){const n=l.useContext(o);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);